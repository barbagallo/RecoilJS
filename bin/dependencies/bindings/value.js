(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define(function(require){var e,i;return e=require("./base"),i=function(e){function i(e,n,i,r){this.$element=e,this.scope=n,this.parent=i,this.root=r,this.updateHandler=t(this.updateHandler,this),this.binding=this.$element.data("value"),this.setValue(),this.bindEvents(),this.pushBinding(),this.$element.is("select")&&this.$element.trigger(this.getDefaultEvents())}return n(i,e),i.prototype.getValue=function(){var t;if("radio"!==this.$element.attr("type")||this.$element.is(":checked"))return t=this.parseBinding(this.binding),t=("function"==typeof t?t():void 0)||t},i.prototype.setValue=function(){var t;return t=this.getValue(),this.value===t||(this.value=t,this.$element.is("input:radio"))?void 0:this.$element.val(this.value)},i.prototype.getDefaultEvents=function(){switch(this.$element.get(0).nodeName.toLowerCase()){case"input":switch(this.$element.attr("type")){case"checkbox":case"radio":return"change";default:return"keydown"}break;case"select":return"change";default:return"blur"}},i.prototype.bindEvents=function(){var t;return t=this.$element.data("update-on")||this.getDefaultEvents(),this.$element.on(t,this.updateHandler)},i.prototype.updateHandler=function(){var t=this;return setTimeout(function(){var e;if(!t.$element.is(":radio")||t.$element.is(":checked"))return e=function(){switch(this.$element.attr("type")){case"checkbox":return this.$element.prop("checked");default:return this.$element.val()}}.call(t),t.updateBinding(e)})},i.prototype.update=function(){return this.$element.is(":focus")?void 0:this.setValue()},i}(e)})}).call(this);